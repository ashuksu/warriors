; PHP configuration for development environment.
; Shows errors, enables timestamp validation for OPcache.

[PHP]
; Error Reporting
display_errors = On                 ; Display errors directly in the browser
display_startup_errors = On         ; Display PHP startup errors
error_reporting = E_ALL             ; Report all errors, warnings, and notices
log_errors = Off                    ; Typically off in dev if display_errors is on

; Resource Limits
memory_limit = 256M
post_max_size = 64M
upload_max_filesize = 64M
max_execution_time = 300            ; Longer execution time for potential long-running dev scripts
max_input_time = 300                ; Longer input time for large file uploads during dev
default_socket_timeout = 60         ; Reasonable default

; General Settings
expose_php = Off                    ; Good practice even in dev for consistency

; Timezone (Crucial for correct date/time handling)
date.timezone = Europe/Stockholm

[opcache]
; OPcache Configuration (optimized for development: frequent code changes)
opcache.enable = 1
opcache.memory_consumption = 128
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 10000
opcache.revalidate_freq = 0         ; CRITICAL FOR DEV: Check for file changes on every request
opcache.validate_timestamps = 1     ; CRITICAL FOR DEV: Enable timestamp validation
opcache.consistency_checks = 0
opcache.fast_shutdown = 1

; JIT (Just In Time Compiler) - PHP 8+
; JIT can increase performance but also compilation time.
; For local dev, sometimes not strictly necessary unless you are profiling performance.
; If you want it enabled in dev, uncomment these lines:
; opcache.jit = 1255
; opcache.jit_buffer_size = 128M